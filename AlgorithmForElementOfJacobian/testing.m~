
new_points = [-1 -1 -1; -1 -1 1; -1 1 -1; -1 1 1; 1 -1 -1; 1 -1 1; 1 1 -1; 1 1 1];

%new_points = [-1 -1; -1 1; 1 -1; 1 1];

[box_bounds] = getMinBoundingBox(new_points);

[hyper_rectangle_vertices,G,edge_matrix] = convertBoxBoundsToRectangles(box_bounds);
shape_vertices = hyper_rectangle_vertices;
%plot sphere
[x,y,z] = sphere;
    a = 0;
    b = 0;
    c = 0;
    r = 1;
index = 1;
iter = 800;
h = waitbar(0,'Please wait...');

for i = 1:iter
    
disp(i)
    [orthogonal_unit_hyperplane_vector,neighbouring_vertices,neighbouring_vertices_indices,vertex] = getUnitVectorHyperPlaneOfNeighbours(index, shape_vertices,G);
    
=======
for i = 1:3000
disp(i)
    [orthogonal_unit_hyperplane_vector,neighbouring_vertices,neighbouring_vertices_indices,vertex] = getUnitVectorHyperPlaneOfNeighbours(index, shape_vertices,G);
    if (checkIfHyperRectangleSurface(orthogonal_unit_hyperplane_vector))
        error = 1;
    else
>>>>>>> 513fd079927e32e9540a630b3cc6197087e1839a
    [value_of_equation] = getSupportFunctionValueMaximumForUnitVector(orthogonal_unit_hyperplane_vector);
    
    [new_points_connected,index_of_connecting_points,indices_of_vertices_to_delete,error] = findNewPointsToConnectForNeighbouringVertices2(orthogonal_unit_hyperplane_vector,value_of_equation,index,shape_vertices,G);
    edge_matrix_for_new_points = workOutConvexConnections(new_points_connected);
if (i == 800)
    orthogonal_unit_hyperplane_vector
    value_of_equation
    new_points_connected
    size(shape_vertices,1)
end

    

    

    end
    if (error < 1)
        [shape_vertices,G] = modifyPolytope(shape_vertices,G,index_of_connecting_points,new_points_connected,edge_matrix_for_new_points,indices_of_vertices_to_delete);    
        
    else 
       index = index+1;
       disp('hii')
    end
    index = 1;
    %plot sphere and stuff lol
    waitbar(i/iter,h)

    %index = randi(size(shape_vertices,1));
end
close(h)

    

   
end
disp(orthogonal_unit_hyperplane_vector)
disp(value_of_equation)
disp(new_points_connected)
>>>>>>> 513fd079927e32e9540a630b3cc6197087e1839a


s= shape_vertices;

if size(new_points,2) < 3
    
    k = convhulln(s);
    x = s(:,1);
    y = s(:,2);
    scatter(s(:,1),s(:,2));
plot(x(k),y(k),'r-',x,y,'b*')
else
hold off

    trisurf(convhulln(s),s(:,1), s(:,2),s(:,3));
    hold on
    
    %surf(x*r+a, y*r+b, z*r+c);
end
rotate3d on